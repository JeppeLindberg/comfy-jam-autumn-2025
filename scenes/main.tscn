[gd_scene load_steps=28 format=3 uid="uid://bb7m2rw06emdx"]

[ext_resource type="Script" uid="uid://ck78o8i26mlcw" path="res://scripts/tree.gd" id="1_0wfyh"]
[ext_resource type="Script" uid="uid://ewvq7sqp0mes" path="res://scripts/main.gd" id="1_muem4"]
[ext_resource type="PackedScene" uid="uid://c4n2e14jc44lm" path="res://prefabs/stump_3.tscn" id="1_o5qli"]
[ext_resource type="Script" uid="uid://bwk04q8vx3wfd" path="res://scripts/parameters.gd" id="2_dp3eg"]
[ext_resource type="PackedScene" uid="uid://djo8u7v67c470" path="res://prefabs/stump_1.tscn" id="2_jkv2x"]
[ext_resource type="Script" uid="uid://bdy2ugigvwukk" path="res://scripts/stats.gd" id="3_gqmmt"]
[ext_resource type="PackedScene" uid="uid://cka13oun4dy67" path="res://prefabs/stump_2.tscn" id="3_jbj1t"]
[ext_resource type="Script" uid="uid://ctjvw4xo7s8ui" path="res://scripts/cards.gd" id="4_yc10j"]
[ext_resource type="PackedScene" uid="uid://bnt3ngxfcndaw" path="res://prefabs/branch_1.tscn" id="5_muem4"]
[ext_resource type="PackedScene" uid="uid://coh2ohqj4pdbt" path="res://prefabs/branch_2.tscn" id="6_dp3eg"]
[ext_resource type="PackedScene" uid="uid://crlofm1hgg0cc" path="res://prefabs/ui_card_2.tscn" id="6_jscy8"]
[ext_resource type="PackedScene" uid="uid://kgp4f1m34n2t" path="res://prefabs/branch_3.tscn" id="7_0ld40"]
[ext_resource type="PackedScene" uid="uid://3pdgkh8v6dlb" path="res://prefabs/branch_4.tscn" id="8_gqmmt"]
[ext_resource type="PackedScene" uid="uid://bebgrdderbbep" path="res://prefabs/branch_5.tscn" id="9_yc10j"]
[ext_resource type="PackedScene" uid="uid://dbqmnosmwlwrv" path="res://prefabs/branch_6.tscn" id="10_jscy8"]
[ext_resource type="PackedScene" uid="uid://i7sw0cp5moo8" path="res://prefabs/branch_7.tscn" id="11_pm3ni"]
[ext_resource type="PackedScene" uid="uid://b7i71oh263k7d" path="res://prefabs/branch_8.tscn" id="12_y6deb"]
[ext_resource type="PackedScene" uid="uid://6jw82booy7nx" path="res://prefabs/branch_9.tscn" id="13_og1vs"]
[ext_resource type="PackedScene" uid="uid://witndceekd8y" path="res://prefabs/branch_10.tscn" id="14_2wyq8"]
[ext_resource type="PackedScene" uid="uid://d0p80on5l55d1" path="res://prefabs/ui_parameter.tscn" id="17_dp3eg"]
[ext_resource type="Script" uid="uid://4jkiu32j3a8p" path="res://scripts/connector.gd" id="17_muem4"]
[ext_resource type="PackedScene" uid="uid://couusae3a5or8" path="res://prefabs/ui_card_1.tscn" id="20_gqmmt"]

[sub_resource type="ProceduralSkyMaterial" id="ProceduralSkyMaterial_jbj1t"]
sky_horizon_color = Color(0.662243, 0.671743, 0.686743, 1)
ground_horizon_color = Color(0.662243, 0.671743, 0.686743, 1)

[sub_resource type="Sky" id="Sky_muem4"]
sky_material = SubResource("ProceduralSkyMaterial_jbj1t")

[sub_resource type="Environment" id="Environment_dp3eg"]
background_mode = 2
sky = SubResource("Sky_muem4")
tonemap_mode = 2

[sub_resource type="Curve" id="Curve_jkv2x"]
_data = [Vector2(0, 0), 0.0, 1.4, 0, 0, Vector2(0.292553, 0.651685), 1.1522, 1.1522, 0, 0, Vector2(1, 1), 0.0, 0.0, 0, 0]
point_count = 3

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_muem4"]
bg_color = Color(1, 1, 1, 1)

[node name="main" type="Node3D"]
script = ExtResource("1_muem4")

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_dp3eg")

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(-0.866023, -0.433016, 0.250001, 0, 0.499998, 0.866027, -0.500003, 0.749999, -0.43301, 0, 0, 0)
shadow_enabled = true

[node name="camera" type="Camera3D" parent="."]
transform = Transform3D(0.996195, 0, -0.0871557, 0, 1, 0, 0.0871557, 0, 0.996195, 0, 5.46399, 44.5492)
fov = 20.0

[node name="parameters" type="Node3D" parent="." node_paths=PackedStringArray("sun_ui_parameter", "wind_ui_parameter", "water_ui_parameter")]
script = ExtResource("2_dp3eg")
sun_ui_parameter = NodePath("../ui/panel/container/parameter_panel/parameter_container/parameter_sun")
wind_ui_parameter = NodePath("../ui/panel/container/parameter_panel/parameter_container/parameter_wind")
water_ui_parameter = NodePath("../ui/panel/container/parameter_panel/parameter_container/parameter_water")

[node name="stats" type="Node3D" parent="." node_paths=PackedStringArray("stats_text")]
script = ExtResource("3_gqmmt")
stats_text = NodePath("../ui/panel/container/stats/margin/container/stats_text")

[node name="cards" type="Node3D" parent="." node_paths=PackedStringArray("cards_container")]
script = ExtResource("4_yc10j")
cards_container = NodePath("../ui/panel/container/card_panel/margin/card_panel/container")
cards = Array[PackedScene]([ExtResource("20_gqmmt"), ExtResource("6_jscy8")])

[node name="tree" type="Node3D" parent="." node_paths=PackedStringArray("main") groups=["tree"]]
script = ExtResource("1_0wfyh")
main = NodePath("..")
growth_scale = SubResource("Curve_jkv2x")
stump_prefabs = Array[PackedScene]([ExtResource("2_jkv2x"), ExtResource("3_jbj1t"), ExtResource("1_o5qli")])
branch_prefabs = Array[PackedScene]([ExtResource("5_muem4"), ExtResource("6_dp3eg"), ExtResource("7_0ld40"), ExtResource("8_gqmmt"), ExtResource("9_yc10j"), ExtResource("10_jscy8"), ExtResource("11_pm3ni"), ExtResource("12_y6deb"), ExtResource("13_og1vs"), ExtResource("14_2wyq8")])
growth = 9.6

[node name="stump" parent="tree" groups=["tree_part"] instance=ExtResource("2_jkv2x")]
top_level = true

[node name="branch_0" type="Node3D" parent="tree/stump" groups=["connector"]]
transform = Transform3D(1, 0, 0, 0, 0.994149, 0.108017, 0, -0.108017, 0.994149, -0.0260136, 2.13899, 0)
script = ExtResource("17_muem4")

[node name="branch" parent="tree/stump/branch_0" groups=["tree_part"] instance=ExtResource("6_dp3eg")]
transform = Transform3D(1, 0, 0, 0, 0.994149, 0.108017, 0, -0.108017, 0.994149, -0.0260136, 2.13899, 0)
top_level = true

[node name="branch_2" type="Node3D" parent="tree/stump" groups=["connector"]]
transform = Transform3D(0.966622, 0.253393, -0.0378563, -0.256205, 0.956012, -0.142826, -3.72529e-09, 0.147758, 0.989024, 0.176571, 2.12807, 0)
script = ExtResource("17_muem4")

[node name="branch" parent="tree/stump/branch_2" groups=["tree_part"] instance=ExtResource("5_muem4")]
transform = Transform3D(0.966622, 0.253393, -0.0378563, -0.256205, 0.956012, -0.142826, -1.49012e-08, 0.147758, 0.989024, 0.176571, 2.12807, 0)
top_level = true

[node name="branch_5" type="Node3D" parent="tree/stump/branch_2/branch" groups=["connector"]]
transform = Transform3D(0.991794, -0.125465, -0.024542, 0.123661, 0.990208, -0.0647821, 0.0324295, 0.0612156, 0.997598, 0.0112266, 3.43053, -0.0382116)
script = ExtResource("17_muem4")

[node name="branch" parent="tree/stump/branch_2/branch/branch_5" groups=["tree_part"] instance=ExtResource("7_0ld40")]
transform = Transform3D(0.988798, 0.127317, -0.0779035, -0.140513, 0.970052, -0.198128, 0.0503455, 0.206855, 0.977075, 1.05814, 5.41028, 0.469095)
top_level = true

[node name="branch_7" type="Node3D" parent="tree/stump/branch_2/branch/branch_5/branch" groups=["connector"]]
transform = Transform3D(0.991794, -0.125465, -0.024542, 0.123661, 0.990208, -0.0647821, 0.0324295, 0.0612156, 0.997598, -0.0256607, 1.39714, -0.0103516)
script = ExtResource("17_muem4")

[node name="branch" parent="tree/stump/branch_2/branch/branch_5/branch/branch_7" groups=["tree_part"] instance=ExtResource("12_y6deb")]
transform = Transform3D(0.993902, -0.00275812, -0.110231, -0.0258274, 0.966054, -0.257045, 0.107198, 0.258325, 0.960092, 1.21145, 6.77124, 0.746694)
top_level = true

[node name="branch_8" type="Node3D" parent="tree/stump/branch_2/branch/branch_5/branch" groups=["connector"]]
transform = Transform3D(0.991794, -0.0985859, -0.0813916, 0.123661, 0.901304, 0.415162, 0.0324295, -0.42182, 0.9061, 0.0522473, 0.792636, -0.0879184)
script = ExtResource("17_muem4")

[node name="branch" parent="tree/stump/branch_2/branch/branch_5/branch/branch_8" groups=["tree_part"] instance=ExtResource("10_jscy8")]
transform = Transform3D(0.993902, 0.0501311, -0.098211, -0.0258274, 0.971739, 0.234642, 0.107198, -0.230675, 0.967108, 1.21757, 6.18926, 0.549783)
top_level = true

[node name="branch_9" type="Node3D" parent="tree/stump/branch_2/branch/branch_5/branch/branch_8/branch" groups=["connector"]]
transform = Transform3D(0.912123, -0.00158859, 0.409914, -0.127979, 0.948904, 0.28845, -0.389427, -0.315562, 0.865313, -0.125279, 1.09208, -0.0962601)
script = ExtResource("17_muem4")

[node name="branch" parent="tree/stump/branch_2/branch/branch_5/branch/branch_8/branch/branch_9" groups=["tree_part"] instance=ExtResource("12_y6deb")]
transform = Transform3D(0.938391, 0.0769826, 0.336892, -0.239296, 0.848083, 0.47275, -0.249319, -0.524241, 0.814255, 1.15725, 7.23112, 0.191344)
top_level = true

[node name="branch_10" type="Node3D" parent="tree/stump/branch_2/branch/branch_5/branch/branch_8/branch/branch_9/branch" groups=["connector"]]
transform = Transform3D(0.997612, 0.0645515, -0.024542, -0.0660227, 0.995713, -0.0647821, 0.0202549, 0.0662477, 0.997598, -0.0431688, 1.53226, 0.0354956)
script = ExtResource("17_muem4")

[node name="branch" parent="tree/stump/branch_2/branch/branch_5/branch/branch_8/branch/branch_9/branch/branch_10" groups=["tree_part"] instance=ExtResource("8_gqmmt")]
transform = Transform3D(0.937892, 0.159546, 0.308065, -0.285142, 0.860319, 0.422546, -0.197619, -0.484145, 0.852379, 1.24666, 8.55772, -0.572264)
top_level = true

[node name="branch_12" type="Node3D" parent="tree/stump/branch_2/branch/branch_5/branch/branch_8/branch/branch_9/branch" groups=["connector"]]
transform = Transform3D(0.905208, -0.375815, -0.198394, 0.422053, 0.849595, 0.316321, 0.0496764, -0.370069, 0.927676, -0.02418, 0.867087, -0.0728135)
script = ExtResource("17_muem4")

[node name="branch" parent="tree/stump/branch_2/branch/branch_5/branch/branch_8/branch/branch_9/branch/branch_12" groups=["tree_part"] instance=ExtResource("6_dp3eg")]
transform = Transform3D(0.898666, -0.41193, 0.150706, 0.164808, 0.635508, 0.7543, -0.406494, -0.653026, 0.638999, 1.17678, 7.93785, -0.316478)
top_level = true

[node name="branch_6" type="Node3D" parent="tree/stump/branch_2/branch" groups=["connector"]]
transform = Transform3D(0.959979, 0.278995, -0.024542, -0.280019, 0.957807, -0.0647821, 0.0054326, 0.0690617, 0.997598, 0.0976302, 1.79542, 0.0464416)
script = ExtResource("17_muem4")

[node name="branch" parent="tree/stump/branch_2/branch/branch_6" groups=["tree_part"] instance=ExtResource("8_gqmmt")]
transform = Transform3D(0.856777, 0.509769, -0.0779035, -0.514429, 0.834331, -0.198128, -0.036002, 0.209827, 0.977075, 0.724131, 3.81287, 0.311219)
top_level = true

[node name="branch_1" type="Node3D" parent="tree/stump" groups=["connector"]]
transform = Transform3D(0.958457, -0.285105, 0.0086709, 0.285237, 0.958014, -0.0291361, 0, 0.030399, 0.999538, -0.241345, 1.94534, 0)
script = ExtResource("17_muem4")

[node name="branch" parent="tree/stump/branch_1" groups=["tree_part"] instance=ExtResource("10_jscy8")]
transform = Transform3D(0.958457, -0.285105, 0.0086709, 0.285237, 0.958014, -0.0291361, 1.30385e-08, 0.030399, 0.999538, -0.241345, 1.94534, 0)
top_level = true

[node name="branch_13" type="Node3D" parent="tree/stump/branch_1/branch" groups=["connector"]]
transform = Transform3D(0.978643, 0.0777261, 0.190308, -0.0633931, 0.994754, -0.0802884, -0.19555, 0.0665096, 0.978436, -0.0322904, 2.03461, 0.063557)
script = ExtResource("17_muem4")

[node name="branch" parent="tree/stump/branch_1/branch/branch_13" groups=["tree_part"] instance=ExtResource("12_y6deb")]
transform = Transform3D(0.954365, -0.208535, 0.213777, 0.224111, 0.973221, -0.0511423, -0.197387, 0.0967182, 0.975543, -0.851821, 3.88346, 0.125378)
top_level = true

[node name="branch_3" type="Node3D" parent="tree/stump/branch_1/branch" groups=["connector"]]
transform = Transform3D(0.912123, -0.00158859, 0.409914, -0.127979, 0.948904, 0.28845, -0.389427, -0.315562, 0.865313, -0.125279, 1.09208, -0.0962601)
script = ExtResource("17_muem4")

[node name="branch" parent="tree/stump/branch_1/branch/branch_3" groups=["tree_part"] instance=ExtResource("12_y6deb")]
transform = Transform3D(0.907341, -0.274796, 0.31815, 0.148912, 0.917804, 0.36805, -0.393138, -0.286571, 0.873682, -0.673612, 2.95864, -0.0630175)
top_level = true

[node name="branch_4" type="Node3D" parent="tree/stump/branch_1/branch/branch_3/branch" groups=["connector"]]
transform = Transform3D(0.997612, 0.0645515, -0.024542, -0.0660227, 0.995713, -0.0647821, 0.0202549, 0.0662477, 0.997598, -0.0431688, 1.53226, 0.0354956)
script = ExtResource("17_muem4")

[node name="branch" parent="tree/stump/branch_1/branch/branch_3/branch/branch_4" groups=["tree_part"] instance=ExtResource("6_dp3eg")]
transform = Transform3D(0.929762, -0.19397, 0.312919, 0.0954152, 0.947864, 0.304054, -0.355582, -0.252841, 0.899796, -1.12255, 4.37159, -0.454135)
top_level = true

[node name="branch_11" type="Node3D" parent="tree/stump/branch_1/branch/branch_3/branch" groups=["connector"]]
transform = Transform3D(0.905208, -0.375815, -0.198394, 0.422053, 0.849595, 0.316321, 0.0496764, -0.370069, 0.927676, -0.02418, 0.867087, -0.0728135)
script = ExtResource("17_muem4")

[node name="branch" parent="tree/stump/branch_1/branch/branch_3/branch/branch_11" groups=["tree_part"] instance=ExtResource("8_gqmmt")]
transform = Transform3D(0.72116, -0.692195, 0.0282048, 0.540442, 0.587595, 0.602209, -0.433419, -0.419045, 0.79784, -0.956989, 3.72405, -0.365609)
top_level = true

[node name="ui" type="Control" parent="."]
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2

[node name="panel" type="Panel" parent="ui"]
self_modulate = Color(0, 0, 0, 1)
custom_minimum_size = Vector2(175, 0)
layout_mode = 1
anchors_preset = 11
anchor_left = 1.0
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 0
grow_vertical = 2
theme_override_styles/panel = SubResource("StyleBoxFlat_muem4")

[node name="container" type="VBoxContainer" parent="ui/panel"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
theme_override_constants/separation = 10

[node name="parameter_panel" type="Panel" parent="ui/panel/container"]
self_modulate = Color(0.612402, 0.38127, 0.335364, 1)
custom_minimum_size = Vector2(0, 98)
layout_mode = 2
theme_override_styles/panel = SubResource("StyleBoxFlat_muem4")

[node name="parameter_container" type="VBoxContainer" parent="ui/panel/container/parameter_panel"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
alignment = 1

[node name="parameter_sun" parent="ui/panel/container/parameter_panel/parameter_container" instance=ExtResource("17_dp3eg")]
layout_mode = 2
meter = 0.057

[node name="parameter_wind" parent="ui/panel/container/parameter_panel/parameter_container" instance=ExtResource("17_dp3eg")]
layout_mode = 2
meter = 0.035
title_tex = "Wind"

[node name="parameter_water" parent="ui/panel/container/parameter_panel/parameter_container" instance=ExtResource("17_dp3eg")]
layout_mode = 2
meter = -0.05
title_tex = "Water"

[node name="stats" type="Panel" parent="ui/panel/container"]
self_modulate = Color(0.612402, 0.38127, 0.335364, 1)
custom_minimum_size = Vector2(0, 70)
layout_mode = 2
theme_override_styles/panel = SubResource("StyleBoxFlat_muem4")

[node name="margin" type="MarginContainer" parent="ui/panel/container/stats"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
theme_override_constants/margin_left = 20
theme_override_constants/margin_top = 5
theme_override_constants/margin_right = 20
theme_override_constants/margin_bottom = 5

[node name="container" type="VBoxContainer" parent="ui/panel/container/stats/margin"]
layout_mode = 2
alignment = 1

[node name="stats_text" type="RichTextLabel" parent="ui/panel/container/stats/margin/container"]
layout_mode = 2
theme_override_font_sizes/normal_font_size = 10
bbcode_enabled = true
text = "[color=green]+ sun absorption[/color]
[color=red]- wind resistance[/color]"
fit_content = true

[node name="card_panel" type="Panel" parent="ui/panel/container"]
self_modulate = Color(0.612402, 0.38127, 0.335364, 1)
custom_minimum_size = Vector2(0, 136)
layout_mode = 2
theme_override_styles/panel = SubResource("StyleBoxFlat_muem4")

[node name="margin" type="MarginContainer" parent="ui/panel/container/card_panel"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
theme_override_constants/margin_left = -80

[node name="card_panel" type="Panel" parent="ui/panel/container/card_panel/margin"]
self_modulate = Color(0.612402, 0.38127, 0.335364, 1)
custom_minimum_size = Vector2(0, 136)
layout_mode = 2
theme_override_styles/panel = SubResource("StyleBoxFlat_muem4")

[node name="container" type="HBoxContainer" parent="ui/panel/container/card_panel/margin/card_panel"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
theme_override_constants/separation = 0
